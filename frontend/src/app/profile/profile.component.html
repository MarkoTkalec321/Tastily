<div class="profile-container">

  <!-- User Details -->
  <div class="user-details">
    <h2>Profile Details</h2>
    <mat-form-field appearance="outline">
      <mat-label>Full Name</mat-label>
      <input matInput [(ngModel)]="currentUser.fullname" readonly>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Username</mat-label>
      <input matInput [(ngModel)]="currentUser.username" readonly>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Email</mat-label>
      <input matInput [(ngModel)]="currentUser.email" readonly>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Address</mat-label>
      <textarea matInput [(ngModel)]="currentUser.addressDTO.streetName" readonly></textarea>
    </mat-form-field>
  </div>

  <!-- Past Orders -->
  <div class="orders-container">
    <h2>Past Orders</h2>
    <mat-table [dataSource]="dataSource" matSort class="orders-table order-group">

      <!-- Order ID Column -->
      <ng-container matColumnDef="orderId">
        <mat-header-cell *matHeaderCellDef mat-sort-header>Order ID</mat-header-cell>
        <mat-cell *matCellDef="let flatOrder">{{ flatOrder.orderId }}</mat-cell>
      </ng-container>

      <!-- Image Column -->
      <ng-container matColumnDef="image">
        <mat-header-cell *matHeaderCellDef>Image</mat-header-cell>
        <mat-cell *matCellDef="let flatOrder">
          <img class="item-image" [src]="'data:' + flatOrder.image.imageMimeType + ';base64,' + flatOrder.image" alt="Item image">
        </mat-cell>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <mat-header-cell *matHeaderCellDef mat-sort-header>Name</mat-header-cell>
        <mat-cell *matCellDef="let flatOrder">{{ flatOrder.name }}</mat-cell>
      </ng-container>

      <!-- Quantity Column -->
      <ng-container matColumnDef="quantity">
        <mat-header-cell *matHeaderCellDef mat-sort-header>Quantity</mat-header-cell>
        <mat-cell *matCellDef="let flatOrder">{{ flatOrder.quantity }}</mat-cell>
      </ng-container>

      <!-- Total Amount Column -->
      <ng-container matColumnDef="totalAmount">
        <mat-header-cell *matHeaderCellDef>Total Amount</mat-header-cell>
        <mat-cell *matCellDef="let flatOrder">{{ flatOrder.totalAmount | currency:'EUR' }}</mat-cell>
      </ng-container>

      <!-- Order Status Column -->
      <ng-container matColumnDef="status">
        <mat-header-cell *matHeaderCellDef mat-sort-header>Status</mat-header-cell>
        <mat-cell *matCellDef="let flatOrder">{{ flatOrder.status  }}</mat-cell>
      </ng-container>

      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
    </mat-table>
  </div>
</div>
